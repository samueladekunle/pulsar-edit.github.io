<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <script src="/download-preselect.js"></script><title>Modern Tree-sitter, part 3: syntax highlighting via queries | </title><meta name="description" content="A Community-led Hyper-Hackable Text Editor">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.a535866b.css">
    <link rel="modulepreload" href="/assets/app.e63a3e54.js"><link rel="modulepreload" href="/assets/20231013-savetheclocktower-modern-tree-sitter-part-3.html.7bb3a53c.js"><link rel="modulepreload" href="/assets/tree-sitter-string-scopes-diagram.2db37c5c.js"><link rel="modulepreload" href="/assets/20231013-savetheclocktower-modern-tree-sitter-part-3.html.344773c4.js"><link rel="prefetch" href="/assets/about.html.7f16e3a1.js"><link rel="prefetch" href="/assets/community.html.30b8fec5.js"><link rel="prefetch" href="/assets/donate.html.48b31795.js"><link rel="prefetch" href="/assets/download.html.1bf9eaf8.js"><link rel="prefetch" href="/assets/index.html.bfba335a.js"><link rel="prefetch" href="/assets/repos.html.d3808d5c.js"><link rel="prefetch" href="/assets/20221112-Daeraxa-ExamplePost.html.a7254423.js"><link rel="prefetch" href="/assets/20221127-confused-Techie-SunsetMisadventureBackend.html.aa0f0b55.js"><link rel="prefetch" href="/assets/20221208-Daeraxa-DistroTubeVideo.html.4526bf05.js"><link rel="prefetch" href="/assets/20221215-confused-Techie-v1.100.1-beta.html.bf017ebc.js"><link rel="prefetch" href="/assets/20230114-confused-Techie-v1.101.0-beta.html.b1d3ebe2.js"><link rel="prefetch" href="/assets/20230201-Daeraxa-FebUpdate.html.6572e61f.js"><link rel="prefetch" href="/assets/20230209-mauricioszabo-tree-sitter-part-1.html.85a512d4.js"><link rel="prefetch" href="/assets/20230215-Daeraxa-v1.102.0.html.ca3a707b.js"><link rel="prefetch" href="/assets/20230216-Daeraxa-ReleaseStrategyUpdate.html.cbda9116.js"><link rel="prefetch" href="/assets/20230227-Daeraxa-Survey1.html.7b3c322b.js"><link rel="prefetch" href="/assets/20230301-Daeraxa-MarUpdate.html.5202d9fe.js"><link rel="prefetch" href="/assets/20230315-Daeraxa-v1.103.0.html.fb393c00.js"><link rel="prefetch" href="/assets/20230319-confused-Techie-HowLicenseNoneDeletedPackages.html.dc2323f8.js"><link rel="prefetch" href="/assets/20230326-Daeraxa-Survey1-Results.html.77ef3691.js"><link rel="prefetch" href="/assets/20230401-Daeraxa-AprUpdate.html.a6c68118.js"><link rel="prefetch" href="/assets/20230401-confused-Techie-PON.html.37c22ab5.js"><link rel="prefetch" href="/assets/20230418-Daeraxa-v1.104.0.html.e9fb233d.js"><link rel="prefetch" href="/assets/20230430-Daeraxa-Survey2.html.0adac3d7.js"><link rel="prefetch" href="/assets/20230501-Daeraxa-MayUpdate.html.dc18050f.js"><link rel="prefetch" href="/assets/20230516-Daeraxa-v1.105.0.html.cc965ed7.js"><link rel="prefetch" href="/assets/20230525-Daeraxa-Survey2-Results.html.59cb5ba2.js"><link rel="prefetch" href="/assets/20230601-Daeraxa-JuneUpdate.html.f96f19d4.js"><link rel="prefetch" href="/assets/20230610-Daeraxa-2kStars.html.4b5f3e0c.js"><link rel="prefetch" href="/assets/20230616-Daeraxa-v1.106.0.html.1de6142b.js"><link rel="prefetch" href="/assets/20230701-Daeraxa-JulyUpdate.html.1ab39cb3.js"><link rel="prefetch" href="/assets/20230715-DeeDeeG-v1.107.0.html.6aae5f4e.js"><link rel="prefetch" href="/assets/20230716-Daeraxa-v1.107.1.html.27ebdfb0.js"><link rel="prefetch" href="/assets/20230801-Daeraxa-AugustUpdate.html.2d59075a.js"><link rel="prefetch" href="/assets/20230816-DeeDeeG-v1.108.0.html.3755c330.js"><link rel="prefetch" href="/assets/20230825-Daeraxa-ChocolateyUpdate.html.3b6f8f30.js"><link rel="prefetch" href="/assets/20230903-confused-Techie-pulsars-ci.html.540a1d10.js"><link rel="prefetch" href="/assets/20230904-Daeraxa-SeptemberUpdate.html.be0f0f56.js"><link rel="prefetch" href="/assets/20230916-Daeraxa-v1.109.0.html.d195c2f4.js"><link rel="prefetch" href="/assets/20230917-Daeraxa-LemmyCommunity.html.c55f0085.js"><link rel="prefetch" href="/assets/20230925-savetheclocktower-modern-tree-sitter-part-1.html.204cdccf.js"><link rel="prefetch" href="/assets/20230927-savetheclocktower-modern-tree-sitter-part-2.html.b313a06c.js"><link rel="prefetch" href="/assets/20231004-Daeraxa-OctoberUpdate.html.9600a3f5.js"><link rel="prefetch" href="/assets/20231016-Daeraxa-v1.110.0.html.0feeb6fc.js"><link rel="prefetch" href="/assets/index.html.d67c59a4.js"><link rel="prefetch" href="/assets/index.html.97931edb.js"><link rel="prefetch" href="/assets/index.html.444aaab0.js"><link rel="prefetch" href="/assets/index.html.7b93ef34.js"><link rel="prefetch" href="/assets/index.html.59bfc3bc.js"><link rel="prefetch" href="/assets/index.html.f396c351.js"><link rel="prefetch" href="/assets/index.html.6373250e.js"><link rel="prefetch" href="/assets/index.html.314e39cc.js"><link rel="prefetch" href="/assets/index.html.c0240572.js"><link rel="prefetch" href="/assets/index.html.6a16fd4b.js"><link rel="prefetch" href="/assets/index.html.7c5e99b0.js"><link rel="prefetch" href="/assets/index.html.4280b841.js"><link rel="prefetch" href="/assets/index.html.f4930b1e.js"><link rel="prefetch" href="/assets/index.html.c8b23726.js"><link rel="prefetch" href="/assets/index.html.8b5ffd81.js"><link rel="prefetch" href="/assets/index.html.fa014118.js"><link rel="prefetch" href="/assets/index.html.a9e7ffcc.js"><link rel="prefetch" href="/assets/index.html.d4b4b747.js"><link rel="prefetch" href="/assets/index.html.b3747e4a.js"><link rel="prefetch" href="/assets/index.html.7b2762a3.js"><link rel="prefetch" href="/assets/index.html.a65db6eb.js"><link rel="prefetch" href="/assets/index.html.ccebb8df.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.0e2cac17.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.0bcddec3.js"><link rel="prefetch" href="/assets/configuration-api.html.9fede897.js"><link rel="prefetch" href="/assets/developing-node-modules.html.ea12ff7b.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.9a2ebd79.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.d54d1c34.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.e787a6ff.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.f4035f9b.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.62226a23.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.e63e200a.js"><link rel="prefetch" href="/assets/summary.html.748e2108.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.e4fe2a05.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.69371df3.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.7cdcb5d7.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.5822e2b8.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.bb746fc4.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.4f5952bb.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.3d4fa480.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.e9a85b91.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.0f6e212b.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.43554765.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.487d8f0f.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.60187348.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.7b6d9c18.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.1b276ccb.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.0fce6179.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.f1fbe80a.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.24ca1354.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.9c21396c.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.d833b833.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.993705f0.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.9084cecd.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.fb010bdf.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.60232dd1.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.b1802b53.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.d52ad5a6.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.c85bd64e.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.2677463d.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.64ad067b.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.aa78852f.js"><link rel="prefetch" href="/assets/atom-basics.html.94de5496.js"><link rel="prefetch" href="/assets/installing-atom.html.eafe94b6.js"><link rel="prefetch" href="/assets/summary.html.153d33a4.js"><link rel="prefetch" href="/assets/why-atom.html.065a10a8.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.907186ff.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.92724abf.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.66f913bf.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.ae5bd884.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.44e49444.js"><link rel="prefetch" href="/assets/creating-a-theme.html.f9c89de0.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.ba06c0d7.js"><link rel="prefetch" href="/assets/debugging.html.15057583.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.9363bc71.js"><link rel="prefetch" href="/assets/handling-uris.html.d3e7ed55.js"><link rel="prefetch" href="/assets/iconography.html.c4c1fca0.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.976dbb76.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.4f5b5c4c.js"><link rel="prefetch" href="/assets/package-modifying-text.html.c23a16c9.js"><link rel="prefetch" href="/assets/package-word-count.html.71afc879.js"><link rel="prefetch" href="/assets/publishing.html.09c49690.js"><link rel="prefetch" href="/assets/summary.html.10326415.js"><link rel="prefetch" href="/assets/the-init-file.html.267d9735.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.86fa9c0d.js"><link rel="prefetch" href="/assets/writing-specs.html.8940921b.js"><link rel="prefetch" href="/assets/glossary.html.1667f208.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.e62ac6bc.js"><link rel="prefetch" href="/assets/upgrading-your-package.html.1b7ddefa.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.0cbf9819.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.19a0b8d7.js"><link rel="prefetch" href="/assets/atom-packages.html.3217fca2.js"><link rel="prefetch" href="/assets/atom-selections.html.1ea469aa.js"><link rel="prefetch" href="/assets/autocomplete.html.6c728b2d.js"><link rel="prefetch" href="/assets/basic-customization.html.3d83eb40.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.324d120c.js"><link rel="prefetch" href="/assets/find-and-replace.html.95ca844f.js"><link rel="prefetch" href="/assets/folding.html.2dd19c54.js"><link rel="prefetch" href="/assets/github-package.html.c88dfe94.js"><link rel="prefetch" href="/assets/grammar.html.117e44f1.js"><link rel="prefetch" href="/assets/moving-in-atom.html.a0d944ac.js"><link rel="prefetch" href="/assets/panes.html.fa2dafad.js"><link rel="prefetch" href="/assets/pending-pane-items.html.fc13b0f4.js"><link rel="prefetch" href="/assets/snippets.html.db430685.js"><link rel="prefetch" href="/assets/summary.html.0f1ce9bf.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.9dd941ec.js"><link rel="prefetch" href="/assets/writing-in-atom.html.4e5f5601.js"><link rel="prefetch" href="/assets/index.html.4a79b3d7.js"><link rel="prefetch" href="/assets/index.html.70dfd1aa.js"><link rel="prefetch" href="/assets/index.html.ce0756cb.js"><link rel="prefetch" href="/assets/index.html.ff18ebdc.js"><link rel="prefetch" href="/assets/index.html.a0a8c77c.js"><link rel="prefetch" href="/assets/index.html.6d4902eb.js"><link rel="prefetch" href="/assets/list.html.442d5f26.js"><link rel="prefetch" href="/assets/release-process.html.79f9abd4.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.9e78b3af.js"><link rel="prefetch" href="/assets/index.html.9043feb2.js"><link rel="prefetch" href="/assets/provider-api.html.dc279408.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.6630babb.js"><link rel="prefetch" href="/assets/index.html.3189f11a.js"><link rel="prefetch" href="/assets/june-2017.html.e5a424a2.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.442bcae3.js"><link rel="prefetch" href="/assets/index.html.b3126362.js"><link rel="prefetch" href="/assets/blog-guide.html.46e413d1.js"><link rel="prefetch" href="/assets/building.html.3eff4f82.js"><link rel="prefetch" href="/assets/configuration-files.html.7f093068.js"><link rel="prefetch" href="/assets/document-style.html.5b3fe621.js"><link rel="prefetch" href="/assets/file-organization.html.349d2f55.js"><link rel="prefetch" href="/assets/configuration-api.html.ef516c41.js"><link rel="prefetch" href="/assets/developing-node-modules.html.d080c5ee.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.4896beaa.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.ff22b44f.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.b17d6755.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.b1d33430.js"><link rel="prefetch" href="/assets/serialization-in-pulsar.html.ce5176d6.js"><link rel="prefetch" href="/assets/summary.html.5acd10ac.js"><link rel="prefetch" href="/assets/building-pulsar.html.db3b95c1.js"><link rel="prefetch" href="/assets/contributing-to-official-pulsar-packages.html.9a90e3fd.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.89753685.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package.html.671f602d.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.1c6b35d9.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.376a5ece.js"><link rel="prefetch" href="/assets/creating-a-theme.html.d305af69.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.e0fea8e9.js"><link rel="prefetch" href="/assets/debugging.html.16efb85e.js"><link rel="prefetch" href="/assets/hacking-on-the-core.html.0bc9a6f3.js"><link rel="prefetch" href="/assets/handling-uris.html.db40ce1e.js"><link rel="prefetch" href="/assets/iconography.html.615ddc97.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package.html.6dca3c67.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.d43a1d0b.js"><link rel="prefetch" href="/assets/package-modifying-text.html.0a9af272.js"><link rel="prefetch" href="/assets/package-word-count.html.ca6634c1.js"><link rel="prefetch" href="/assets/publishing.html.74cce9fa.js"><link rel="prefetch" href="/assets/summary.html.72f83b4a.js"><link rel="prefetch" href="/assets/the-init-file.html.e5326af9.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.232aaccd.js"><link rel="prefetch" href="/assets/using-ppm.html.c80bc275.js"><link rel="prefetch" href="/assets/writing-specs.html.d368438b.js"><link rel="prefetch" href="/assets/common-issues.html.ab445518.js"><link rel="prefetch" href="/assets/get-help.html.84757c84.js"><link rel="prefetch" href="/assets/installing-pulsar.html.ad8c4430.js"><link rel="prefetch" href="/assets/pulsar-basics.html.de3b5b01.js"><link rel="prefetch" href="/assets/summary.html.80579d37.js"><link rel="prefetch" href="/assets/why-pulsar.html.f9660c94.js"><link rel="prefetch" href="/assets/autocomplete.html.854a39a1.js"><link rel="prefetch" href="/assets/basic-customization.html.05c1c914.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.cebc66df.js"><link rel="prefetch" href="/assets/find-and-replace.html.057035ea.js"><link rel="prefetch" href="/assets/folding.html.93a903f6.js"><link rel="prefetch" href="/assets/github-package.html.8c5b4076.js"><link rel="prefetch" href="/assets/grammar.html.51f823d9.js"><link rel="prefetch" href="/assets/moving-in-pulsar.html.b787a3bc.js"><link rel="prefetch" href="/assets/panes.html.d7b158ed.js"><link rel="prefetch" href="/assets/pending-pane-items.html.b6b8309b.js"><link rel="prefetch" href="/assets/pulsar-packages.html.ce253843.js"><link rel="prefetch" href="/assets/pulsar-selections.html.0582d76c.js"><link rel="prefetch" href="/assets/snippets.html.012fb0c9.js"><link rel="prefetch" href="/assets/summary.html.53563190.js"><link rel="prefetch" href="/assets/version-control-in-pulsar.html.3d5f105e.js"><link rel="prefetch" href="/assets/writing-in-pulsar.html.143b300a.js"><link rel="prefetch" href="/assets/404.html.83136f9a.js"><link rel="prefetch" href="/assets/index.html.1725108a.js"><link rel="prefetch" href="/assets/index.html.e66a9e6f.js"><link rel="prefetch" href="/assets/index.html.a9c04ba9.js"><link rel="prefetch" href="/assets/index.html.3d557021.js"><link rel="prefetch" href="/assets/index.html.4a993420.js"><link rel="prefetch" href="/assets/index.html.10df3af1.js"><link rel="prefetch" href="/assets/index.html.dcdc22a2.js"><link rel="prefetch" href="/assets/index.html.5925a712.js"><link rel="prefetch" href="/assets/index.html.7ceb711f.js"><link rel="prefetch" href="/assets/index.html.b03183ad.js"><link rel="prefetch" href="/assets/index.html.16e14736.js"><link rel="prefetch" href="/assets/index.html.4393ebb6.js"><link rel="prefetch" href="/assets/index.html.234bb87b.js"><link rel="prefetch" href="/assets/index.html.10d7d674.js"><link rel="prefetch" href="/assets/index.html.2f30f8af.js"><link rel="prefetch" href="/assets/index.html.19e04ff4.js"><link rel="prefetch" href="/assets/index.html.644bc9d9.js"><link rel="prefetch" href="/assets/index.html.d36c0486.js"><link rel="prefetch" href="/assets/index.html.5f67efaf.js"><link rel="prefetch" href="/assets/index.html.4ae4defc.js"><link rel="prefetch" href="/assets/index.html.fb13f8c6.js"><link rel="prefetch" href="/assets/index.html.450e1e45.js"><link rel="prefetch" href="/assets/index.html.01c707f9.js"><link rel="prefetch" href="/assets/index.html.130de9b2.js"><link rel="prefetch" href="/assets/index.html.d8f16f60.js"><link rel="prefetch" href="/assets/index.html.79d61236.js"><link rel="prefetch" href="/assets/index.html.5eca0895.js"><link rel="prefetch" href="/assets/index.html.100503fe.js"><link rel="prefetch" href="/assets/index.html.0f592a40.js"><link rel="prefetch" href="/assets/index.html.a8a660db.js"><link rel="prefetch" href="/assets/index.html.3aa61e11.js"><link rel="prefetch" href="/assets/about.html.affc0ac7.js"><link rel="prefetch" href="/assets/community.html.d22dd058.js"><link rel="prefetch" href="/assets/donate.html.4500f4df.js"><link rel="prefetch" href="/assets/download.html.a0c6f2e3.js"><link rel="prefetch" href="/assets/index.html.fbe00d64.js"><link rel="prefetch" href="/assets/repos.html.8b9253f6.js"><link rel="prefetch" href="/assets/20221112-Daeraxa-ExamplePost.html.5d44a0b5.js"><link rel="prefetch" href="/assets/20221127-confused-Techie-SunsetMisadventureBackend.html.87720644.js"><link rel="prefetch" href="/assets/20221208-Daeraxa-DistroTubeVideo.html.feb36e16.js"><link rel="prefetch" href="/assets/20221215-confused-Techie-v1.100.1-beta.html.a332903a.js"><link rel="prefetch" href="/assets/20230114-confused-Techie-v1.101.0-beta.html.7120e8bf.js"><link rel="prefetch" href="/assets/20230201-Daeraxa-FebUpdate.html.638bd35d.js"><link rel="prefetch" href="/assets/20230209-mauricioszabo-tree-sitter-part-1.html.fa2eb722.js"><link rel="prefetch" href="/assets/20230215-Daeraxa-v1.102.0.html.a2bbd541.js"><link rel="prefetch" href="/assets/20230216-Daeraxa-ReleaseStrategyUpdate.html.cd997ec1.js"><link rel="prefetch" href="/assets/20230227-Daeraxa-Survey1.html.9e398ec3.js"><link rel="prefetch" href="/assets/20230301-Daeraxa-MarUpdate.html.355f1daa.js"><link rel="prefetch" href="/assets/20230315-Daeraxa-v1.103.0.html.692f4c50.js"><link rel="prefetch" href="/assets/20230319-confused-Techie-HowLicenseNoneDeletedPackages.html.814c435d.js"><link rel="prefetch" href="/assets/20230326-Daeraxa-Survey1-Results.html.536c1b40.js"><link rel="prefetch" href="/assets/20230401-Daeraxa-AprUpdate.html.e164d02b.js"><link rel="prefetch" href="/assets/20230401-confused-Techie-PON.html.934b76b5.js"><link rel="prefetch" href="/assets/20230418-Daeraxa-v1.104.0.html.2c6a5c5d.js"><link rel="prefetch" href="/assets/20230430-Daeraxa-Survey2.html.19281aa2.js"><link rel="prefetch" href="/assets/20230501-Daeraxa-MayUpdate.html.d16994d9.js"><link rel="prefetch" href="/assets/20230516-Daeraxa-v1.105.0.html.3c6141a9.js"><link rel="prefetch" href="/assets/20230525-Daeraxa-Survey2-Results.html.098a88bf.js"><link rel="prefetch" href="/assets/20230601-Daeraxa-JuneUpdate.html.634f558f.js"><link rel="prefetch" href="/assets/20230610-Daeraxa-2kStars.html.92f3a24c.js"><link rel="prefetch" href="/assets/20230616-Daeraxa-v1.106.0.html.78b906ae.js"><link rel="prefetch" href="/assets/20230701-Daeraxa-JulyUpdate.html.bfce53e4.js"><link rel="prefetch" href="/assets/20230715-DeeDeeG-v1.107.0.html.130fc996.js"><link rel="prefetch" href="/assets/20230716-Daeraxa-v1.107.1.html.3dd306f8.js"><link rel="prefetch" href="/assets/20230801-Daeraxa-AugustUpdate.html.12cbc082.js"><link rel="prefetch" href="/assets/20230816-DeeDeeG-v1.108.0.html.6fd1782d.js"><link rel="prefetch" href="/assets/20230825-Daeraxa-ChocolateyUpdate.html.d324807c.js"><link rel="prefetch" href="/assets/20230903-confused-Techie-pulsars-ci.html.f586c232.js"><link rel="prefetch" href="/assets/20230904-Daeraxa-SeptemberUpdate.html.ae0cf567.js"><link rel="prefetch" href="/assets/20230916-Daeraxa-v1.109.0.html.712f6006.js"><link rel="prefetch" href="/assets/20230917-Daeraxa-LemmyCommunity.html.57b67ecc.js"><link rel="prefetch" href="/assets/20230925-savetheclocktower-modern-tree-sitter-part-1.html.bc95cb8c.js"><link rel="prefetch" href="/assets/20230927-savetheclocktower-modern-tree-sitter-part-2.html.1dd01740.js"><link rel="prefetch" href="/assets/20231004-Daeraxa-OctoberUpdate.html.4e01e4c8.js"><link rel="prefetch" href="/assets/20231016-Daeraxa-v1.110.0.html.f8f39084.js"><link rel="prefetch" href="/assets/index.html.dbbcc8a8.js"><link rel="prefetch" href="/assets/index.html.5d3a0093.js"><link rel="prefetch" href="/assets/index.html.26338d0c.js"><link rel="prefetch" href="/assets/index.html.ae7dedee.js"><link rel="prefetch" href="/assets/index.html.d4d3eb08.js"><link rel="prefetch" href="/assets/index.html.82cd4b9f.js"><link rel="prefetch" href="/assets/index.html.c9d7abdd.js"><link rel="prefetch" href="/assets/index.html.6a7e8264.js"><link rel="prefetch" href="/assets/index.html.27a7764f.js"><link rel="prefetch" href="/assets/index.html.91bf19e0.js"><link rel="prefetch" href="/assets/index.html.232556f5.js"><link rel="prefetch" href="/assets/index.html.50095b19.js"><link rel="prefetch" href="/assets/index.html.c27f65ca.js"><link rel="prefetch" href="/assets/index.html.9261a6eb.js"><link rel="prefetch" href="/assets/index.html.3155f29f.js"><link rel="prefetch" href="/assets/index.html.2662bc61.js"><link rel="prefetch" href="/assets/index.html.2357b077.js"><link rel="prefetch" href="/assets/index.html.1c80304b.js"><link rel="prefetch" href="/assets/index.html.4847eec7.js"><link rel="prefetch" href="/assets/index.html.4c861854.js"><link rel="prefetch" href="/assets/index.html.6cbf6932.js"><link rel="prefetch" href="/assets/index.html.8a020085.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.410af01a.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.ad85a3f4.js"><link rel="prefetch" href="/assets/configuration-api.html.e120ec05.js"><link rel="prefetch" href="/assets/developing-node-modules.html.3a8a03cb.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.6543465d.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.10b8bb68.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.196756d4.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.00b42be9.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.3e0db85f.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.99d1083d.js"><link rel="prefetch" href="/assets/summary.html.1fed25e0.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.370715ba.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.ba61beca.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.a07f377e.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.578c48d2.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.59f10750.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.f2ca5b32.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.a19cf211.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.cf99256b.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.b9c69683.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.836614b3.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.0f114d60.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.6ab2cf1f.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.ceef0146.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.0ae1db71.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.c084e0a0.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.89b2180f.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.f953c296.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.d0551699.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.30151b83.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.cc1460e5.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.70f6acbb.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.b5958837.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.927071ce.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.f5a56829.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.87782e17.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.c0b5b9f5.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.fa769123.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.073a6675.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.7e64b3ec.js"><link rel="prefetch" href="/assets/atom-basics.html.f363f0e8.js"><link rel="prefetch" href="/assets/installing-atom.html.fdad8ee6.js"><link rel="prefetch" href="/assets/summary.html.1b582b95.js"><link rel="prefetch" href="/assets/why-atom.html.87790323.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.7f75ac4f.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.ba59fc84.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.92d782e2.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.bc7fb426.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.56b6ae82.js"><link rel="prefetch" href="/assets/creating-a-theme.html.9754ec80.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.0c6ac278.js"><link rel="prefetch" href="/assets/debugging.html.78e7a3e0.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.246cbd77.js"><link rel="prefetch" href="/assets/handling-uris.html.029cffcb.js"><link rel="prefetch" href="/assets/iconography.html.f799c698.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.7bbef807.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.8782d8b4.js"><link rel="prefetch" href="/assets/package-modifying-text.html.1ca3d323.js"><link rel="prefetch" href="/assets/package-word-count.html.ea342da5.js"><link rel="prefetch" href="/assets/publishing.html.ab93f56e.js"><link rel="prefetch" href="/assets/summary.html.8dae793d.js"><link rel="prefetch" href="/assets/the-init-file.html.d4b4e5b9.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.590cbf3a.js"><link rel="prefetch" href="/assets/writing-specs.html.fa968ec6.js"><link rel="prefetch" href="/assets/glossary.html.7fd3bd80.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.b6a44706.js"><link rel="prefetch" href="/assets/upgrading-your-package.html.83bdea42.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.2c503bd1.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.9b87c373.js"><link rel="prefetch" href="/assets/atom-packages.html.a1bdb9e3.js"><link rel="prefetch" href="/assets/atom-selections.html.02a7b7d8.js"><link rel="prefetch" href="/assets/autocomplete.html.7eabd580.js"><link rel="prefetch" href="/assets/basic-customization.html.d2052e24.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.1838d84d.js"><link rel="prefetch" href="/assets/find-and-replace.html.82211009.js"><link rel="prefetch" href="/assets/folding.html.41849777.js"><link rel="prefetch" href="/assets/github-package.html.221d447d.js"><link rel="prefetch" href="/assets/grammar.html.d2f00c9f.js"><link rel="prefetch" href="/assets/moving-in-atom.html.fbf88a38.js"><link rel="prefetch" href="/assets/panes.html.2de26eaa.js"><link rel="prefetch" href="/assets/pending-pane-items.html.d0755df2.js"><link rel="prefetch" href="/assets/snippets.html.58ae6bf6.js"><link rel="prefetch" href="/assets/summary.html.db1e1e3a.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.dd3d37d8.js"><link rel="prefetch" href="/assets/writing-in-atom.html.511fda77.js"><link rel="prefetch" href="/assets/index.html.b35e7a3b.js"><link rel="prefetch" href="/assets/index.html.3917871d.js"><link rel="prefetch" href="/assets/index.html.3fd50e93.js"><link rel="prefetch" href="/assets/index.html.819d80f7.js"><link rel="prefetch" href="/assets/index.html.627f5fdc.js"><link rel="prefetch" href="/assets/index.html.5de44fd5.js"><link rel="prefetch" href="/assets/list.html.7cef1dfb.js"><link rel="prefetch" href="/assets/release-process.html.2bd71e92.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.c5ff2539.js"><link rel="prefetch" href="/assets/index.html.d8bed207.js"><link rel="prefetch" href="/assets/provider-api.html.568f830e.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.9b182b3c.js"><link rel="prefetch" href="/assets/index.html.c1df9968.js"><link rel="prefetch" href="/assets/june-2017.html.674ebfe4.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.41c597e4.js"><link rel="prefetch" href="/assets/index.html.8b77ae58.js"><link rel="prefetch" href="/assets/blog-guide.html.709a51dc.js"><link rel="prefetch" href="/assets/building.html.e70af6ba.js"><link rel="prefetch" href="/assets/configuration-files.html.5ecb73d8.js"><link rel="prefetch" href="/assets/document-style.html.77d3b6b3.js"><link rel="prefetch" href="/assets/file-organization.html.52b8a66d.js"><link rel="prefetch" href="/assets/configuration-api.html.d6391692.js"><link rel="prefetch" href="/assets/developing-node-modules.html.93295725.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.a18dde81.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.5027b93d.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.42a602c7.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.6bf63774.js"><link rel="prefetch" href="/assets/serialization-in-pulsar.html.412fd638.js"><link rel="prefetch" href="/assets/summary.html.f688d1f4.js"><link rel="prefetch" href="/assets/building-pulsar.html.934e987e.js"><link rel="prefetch" href="/assets/contributing-to-official-pulsar-packages.html.e89d26d2.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.abb3f55c.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package.html.16b0021e.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.540e7381.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.75a15bb9.js"><link rel="prefetch" href="/assets/creating-a-theme.html.b623b5de.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.c4f98f38.js"><link rel="prefetch" href="/assets/debugging.html.e7d62131.js"><link rel="prefetch" href="/assets/hacking-on-the-core.html.b4f76c4a.js"><link rel="prefetch" href="/assets/handling-uris.html.6316eb10.js"><link rel="prefetch" href="/assets/iconography.html.d48cd6be.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package.html.1f3864ca.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.d08d2f2c.js"><link rel="prefetch" href="/assets/package-modifying-text.html.0404d17c.js"><link rel="prefetch" href="/assets/package-word-count.html.82b42943.js"><link rel="prefetch" href="/assets/publishing.html.b0c1440a.js"><link rel="prefetch" href="/assets/summary.html.7cf973da.js"><link rel="prefetch" href="/assets/the-init-file.html.9dfe0873.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.0282df37.js"><link rel="prefetch" href="/assets/using-ppm.html.05b10071.js"><link rel="prefetch" href="/assets/writing-specs.html.84aa888d.js"><link rel="prefetch" href="/assets/common-issues.html.f3394db8.js"><link rel="prefetch" href="/assets/get-help.html.91276b2c.js"><link rel="prefetch" href="/assets/installing-pulsar.html.d57b673e.js"><link rel="prefetch" href="/assets/pulsar-basics.html.b55b7989.js"><link rel="prefetch" href="/assets/summary.html.a1402f7a.js"><link rel="prefetch" href="/assets/why-pulsar.html.53ac8b9c.js"><link rel="prefetch" href="/assets/autocomplete.html.57828b04.js"><link rel="prefetch" href="/assets/basic-customization.html.7192d3e0.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.4c826f24.js"><link rel="prefetch" href="/assets/find-and-replace.html.4773b8bd.js"><link rel="prefetch" href="/assets/folding.html.2bb62d34.js"><link rel="prefetch" href="/assets/github-package.html.9d385111.js"><link rel="prefetch" href="/assets/grammar.html.342e3089.js"><link rel="prefetch" href="/assets/moving-in-pulsar.html.2b2b1402.js"><link rel="prefetch" href="/assets/panes.html.da5ddc6d.js"><link rel="prefetch" href="/assets/pending-pane-items.html.111c807e.js"><link rel="prefetch" href="/assets/pulsar-packages.html.8ce107c1.js"><link rel="prefetch" href="/assets/pulsar-selections.html.443583d4.js"><link rel="prefetch" href="/assets/snippets.html.f0a05775.js"><link rel="prefetch" href="/assets/summary.html.126e4231.js"><link rel="prefetch" href="/assets/version-control-in-pulsar.html.7c15ddca.js"><link rel="prefetch" href="/assets/writing-in-pulsar.html.a8cb0db5.js"><link rel="prefetch" href="/assets/404.html.7baaea60.js"><link rel="prefetch" href="/assets/index.html.0368acda.js"><link rel="prefetch" href="/assets/index.html.045109b8.js"><link rel="prefetch" href="/assets/index.html.d95a193b.js"><link rel="prefetch" href="/assets/index.html.fb033da7.js"><link rel="prefetch" href="/assets/index.html.c7d2828b.js"><link rel="prefetch" href="/assets/index.html.861ee445.js"><link rel="prefetch" href="/assets/index.html.eeabfc1e.js"><link rel="prefetch" href="/assets/index.html.26402f15.js"><link rel="prefetch" href="/assets/index.html.09eb9a45.js"><link rel="prefetch" href="/assets/index.html.64c38979.js"><link rel="prefetch" href="/assets/index.html.d217d28c.js"><link rel="prefetch" href="/assets/index.html.8c699368.js"><link rel="prefetch" href="/assets/index.html.67c8d519.js"><link rel="prefetch" href="/assets/index.html.33973fdf.js"><link rel="prefetch" href="/assets/index.html.3e6ec794.js"><link rel="prefetch" href="/assets/index.html.9d0c5e91.js"><link rel="prefetch" href="/assets/index.html.7299a0d4.js"><link rel="prefetch" href="/assets/index.html.56ffde34.js"><link rel="prefetch" href="/assets/index.html.76f4ada7.js"><link rel="prefetch" href="/assets/index.html.8d896433.js"><link rel="prefetch" href="/assets/index.html.8fc82783.js"><link rel="prefetch" href="/assets/index.html.9b09f600.js"><link rel="prefetch" href="/assets/index.html.40885964.js"><link rel="prefetch" href="/assets/index.html.a94bcb0b.js"><link rel="prefetch" href="/assets/index.html.a191151a.js"><link rel="prefetch" href="/assets/index.html.99092e67.js"><link rel="prefetch" href="/assets/index.html.ab96f096.js"><link rel="prefetch" href="/assets/index.html.d8507a1d.js"><link rel="prefetch" href="/assets/index.html.ed26aa37.js"><link rel="prefetch" href="/assets/index.html.696245df.js"><link rel="prefetch" href="/assets/index.html.3722ba27.js"><link rel="prefetch" href="/assets/photoswipe.esm.09e03fed.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo light" src="/logo-name-navbar-light.svg" alt><img class="logo dark" src="/logo-name-navbar-dark.svg" alt><!----></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/download.html" class="nav-link" aria-label="Download"><span class="icon fas fa-solid fa-download"></span>Download<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/" class="nav-link" aria-label="Docs"><span class="icon fas fa-solid fa-file-lines"></span>Docs<!----></a></div><div class="nav-item hide-in-mobile"><a href="/repos.html" class="nav-link" aria-label="Repositories"><span class="icon fas fa-brands fa-github"></span>Repositories<!----></a></div><div class="nav-item hide-in-mobile"><a href="/about.html" class="nav-link" aria-label="About Us"><span class="icon fas fa-solid fa-sun"></span>About Us<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link active" aria-label="Blog"><span class="icon fas fa-solid fa-blog"></span>Blog<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Community"><span class="title"><span class="icon fas fa-solid fa-user-group"></span>Community</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/community.html" class="nav-link" aria-label="Community areas"><span class="icon fas fa-solid fa-house"></span>Community areas<!----></a></li><li class="dropdown-item"><a href="https://github.com/orgs/pulsar-edit/discussions" rel="noopener noreferrer" target="_blank" aria-label="Discussions" class="nav-link"><span class="icon fas fa-solid fa-comments"></span>Discussions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://discord.gg/7aEbB9dGRT" rel="noopener noreferrer" target="_blank" aria-label="Discord" class="nav-link"><span class="icon fas fa-brands fa-discord"></span>Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://www.reddit.com/r/pulsaredit/" rel="noopener noreferrer" target="_blank" aria-label="Reddit" class="nav-link"><span class="icon fas fa-brands fa-reddit"></span>Reddit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://fosstodon.org/@pulsaredit" rel="noopener noreferrer" target="_blank" aria-label="Mastodon" class="nav-link"><span class="icon fas fa-brands fa-mastodon"></span>Mastodon<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://lemmy.ml/c/pulsaredit" rel="noopener noreferrer" target="_blank" aria-label="Lemmy" class="nav-link"><span class="icon fas fa-solid fa-users"></span>Lemmy<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/donate.html" class="nav-link" aria-label="Donate"><span class="icon fas fa-solid fa-hand-holding-dollar"></span>Donate<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://web.pulsar-edit.dev/" rel="noopener noreferrer" target="_blank" aria-label="Packages" class="nav-link"><span class="icon fas fa-solid fa-box-open"></span>Packages<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/pulsar-edit" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Modern Tree-sitter, part 3: syntax highlighting via queries</h1><div class="page-info"><span class="author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">savetheclocktower</span></span><span property="author" content="savetheclocktower"></span></span><!----><span class="date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>October 13, 2023</span><meta property="datePublished" content="2023-10-13T00:00:00.000Z"></span><span class="category-info" aria-label="Category🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category1 clickable" role="navigation">dev</span></li></ul><meta property="articleSection" content="dev"></span><span aria-label="Tag🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag7 clickable" role="navigation">modernization</span></li><li><span class="tag tag6 clickable" role="navigation">tree-sitter</span></li></ul><meta property="keywords" content="modernization,tree-sitter"></span><span class="reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 16 min</span><meta property="timeRequired" content="PT16M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#the-problems" class="router-link-active router-link-exact-active toc-link level2">The problems</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#the-first-challenge-robust-querying" class="router-link-active router-link-exact-active toc-link level2">The first challenge: robust querying</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#how-captures-work" class="router-link-active router-link-exact-active toc-link level3">How captures work</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#highlights" class="router-link-active router-link-exact-active toc-link level3">Highlights</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#scope-tests" class="router-link-active router-link-exact-active toc-link level3">Scope tests</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#the-second-challenge-scoping-arbitrary-ranges" class="router-link-active router-link-exact-active toc-link level2">The second challenge: scoping arbitrary ranges</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#scope-adjustments" class="router-link-active router-link-exact-active toc-link level3">Scope adjustments</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#what-does-this-get-us" class="router-link-active router-link-exact-active toc-link level2">What does this get us?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html#next-time" class="router-link-active router-link-exact-active toc-link level2">Next time</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p><a href="https://pulsar-edit.dev/blog/20230927-savetheclocktower-modern-tree-sitter-part-2.html" target="_blank" rel="noopener noreferrer">Last time I laid out the case<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for why we chose to embrace TextMate-style scope names, even in newer Tree-sitter grammars. I set a difficult challenge for Pulsar: <strong>make it so that a Tree-sitter grammar can do <em>anything</em> a TextMate grammar can do.</strong></p><p>Today I’d like to show you the specific problems that we had to solve in order to pull that off.</p><!-- more --><p>If you’d like to follow along with these code examples in your own Pulsar installation, I’d suggest installing the <a href="https://web.pulsar-edit.dev/packages/tree-sitter-tools" target="_blank" rel="noopener noreferrer"><code>tree-sitter-tools</code> package<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. It includes a language grammar for the Tree-sitter query files we’ll be spending most of this article writing, and it lets us visualize the syntax trees that Tree-sitter produces.</p><p>If you just want to get a sense of what a Tree-sitter tree looks like, you can use the <a href="https://tree-sitter.github.io/tree-sitter/playground" target="_blank" rel="noopener noreferrer">Playground on the Tree-sitter web site<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h2 id="the-problems" tabindex="-1"><a class="header-anchor" href="#the-problems" aria-hidden="true">#</a> The problems</h2><p>The legacy Tree-sitter integration into Atom used its own system for mapping tree nodes to scope names, but it had <strong>two major limitations</strong> that prevented it from matching the scope names produced by a TextMate grammar:</p><ol><li><strong>It couldn’t query the right nodes</strong>: it used a CSS-like syntax that was limited in how expressively it could describe tree nodes.</li><li><strong>It couldn’t describe the right ranges</strong>: it could only add scopes to ranges that corresponded to individual tree nodes.</li></ol><p>The need to write an Atom-specific bridge between node names and scope names served as evidence that Tree-sitter need its <em>own</em> system for more easily working with syntax trees — one that would prevent every Tree-sitter consumer from having to reinvent the wheel.</p><p>So Tree-sitter added a powerful <a href="https://tree-sitter.github.io/tree-sitter/using-parsers#pattern-matching-with-queries" target="_blank" rel="noopener noreferrer">query system<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, with a Lisp-like syntax most directly influenced by <a href="https://en.wikipedia.org/wiki/Scheme_(programming_language)" target="_blank" rel="noopener noreferrer">Scheme<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. This system wasn’t around for the legacy implementation to use — but it’s here for us now, and it’s going to make our job much easier.</p><p>Tree-sitter query syntax does the same thing for a Tree-sitter syntax tree that CSS selector syntax does for HTML: it gives us a terse way to describe a set of nodes in a tree. And just as people eventually realized that CSS selector syntax was useful for more than just styling — see <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector" target="_blank" rel="noopener noreferrer"><code>document.querySelector</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> — you’ll soon see that Tree-sitter queries are useful for more than just making strings green.</p><p>Right now, though, let’s just focus on syntax highlighting. And remember those two limitations that I described above, because we’ll have to solve them both before this article is done.</p><h2 id="the-first-challenge-robust-querying" tabindex="-1"><a class="header-anchor" href="#the-first-challenge-robust-querying" aria-hidden="true">#</a> The first challenge: robust querying</h2><p>I’ll remind you of our example from part 2: the scope names applied to a double-quoted string in JavaScript.</p><p><img src="/assets/tree-sitter-string-scopes-diagram.24d020b9.png" alt="string scopes"></p><p>Our first goal is to make it so that our JavaScript Tree-sitter grammar can apply these same scopes to the same buffer ranges. But Tree-sitter works very differently to a TextMate grammar, so it’s not immediately obvious how we can pull this off. Let’s reason through it.</p><h3 id="how-captures-work" tabindex="-1"><a class="header-anchor" href="#how-captures-work" aria-hidden="true">#</a> How captures work</h3><p>Tree-sitter itself <a href="https://tree-sitter.github.io/tree-sitter/syntax-highlighting" target="_blank" rel="noopener noreferrer">has demonstrated<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> how query files can be used to highlight code. If a parser has a <code>highlights.scm</code> file defined in its repository, the CLI will allow you to run <code>tree-sitter highlight</code> on arbitrary input. It’ll parse the input, figure out which parser should do the job, use that parser’s <code>highlights.scm</code> to map certain nodes to query capture names, and then emit highlighted output in your terminal.</p><p>Last time I showed you this excerpt from <code>tree-sitter-javascript</code>’s <code>highlights.scm</code> file:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>[
  (string)
  (template_string)
] @string
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Once you’re familiar with query syntax, the outcome of this query is clear: all JavaScript strings will be captured and given a name of <code>@string</code>. Somewhere within the <code>tree-sitter highlight</code> code path, those capture names are mapped to various colors, and are applied to the captured buffer ranges. Anything that gets captured as <code>@string</code> will have one color in the output; anything that gets captured as <code>@keyword</code> will have a different color; and so on.</p><p><strong>Let’s imagine that Pulsar has a similar system.</strong> In order to keep this article from putting you to sleep, I won’t get into the details of exactly <em>how</em> we do it, but the machinery is in place. Instead of a capture name like <code>@string</code>, we’ll be choosing more verbose names like <code>@string.quoted.double.js</code>, but the principles are the same.</p><p>We also won’t be talking about how Pulsar knows which areas of the buffer to re-highlight as the user makes changes, nor how Pulsar combines the results of multiple parsers (for example, JavaScript embedded in HTML). These topics may be visited in future articles, but today we’re just talking about how to use Tree-sitter queries to identify arbitrary ranges and give them the scope names that we want.</p><h3 id="highlights" tabindex="-1"><a class="header-anchor" href="#highlights" aria-hidden="true">#</a> Highlights</h3><p>What does a string look like in a Tree-sitter tree? Let’s create a new document with nothing but the following contents:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;like this&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Using the <a href="https://web.pulsar-edit.dev/packages/tree-sitter-tools" target="_blank" rel="noopener noreferrer">tree-sitter-tools package<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, I can open an inspector pane and look at the raw tree for this string:</p><p><img src="/assets/tree-sitter-tools-string-tree.3fe45d43.png" alt="string tree"></p><p>So we can see that a <code>string</code> node consists of three parts: a delimiter, a <code>string_content</code> node, and another delimiter. This structure maps elegantly to the things that we want to scope.</p><p>Most parsers build <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" target="_blank" rel="noopener noreferrer"><em>abstract</em> syntax trees<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. In the process of making the tree, they discard lots of information that isn’t important to the parser’s goal. But Tree-sitter builds <em>concrete</em> syntax trees! Every character in our JavaScript file will end up being represented by at least one node, and every node remembers the exact buffer range it covers. If it didn’t, we wouldn’t be able to use it for syntax highlighting.</p><p>In Tree-sitter parsers, nodes that matter to semantics (like <code>string_content</code>) tend to have names, whereas other nodes (like the delimiters) are “anonymous” nodes. Anonymous nodes can still be queried against like named nodes, so it feels like it’ll be pretty easy to apply the scopes that we want.</p><p>So let’s open our grammar’s <code>highlights.scm</code> file and give it a try. (In Pulsar’s “dev mode” — which you can trigger with the <code>--dev</code> flag on the command line — grammar authors can even make changes to their query files and see them take effect instantly when they save!)</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>(string) @string.quoted.double.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>That’s not bad, but it’s too specific. In <code>tree-sitter-javascript</code>, the <code>string</code> node applies for both single-quoted and double-quoted strings, with the difference being reflected only in the anonymous nodes. (Template strings, as we saw above, have their own node type.)</p><p>How do we distinguish single-quoted strings from double-quoted strings? Here’s one thing we could do:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>((string) @string.quoted.single.js
  (#match? @string.quoted.single.js &quot;^&#39;&quot;))
((string) @string.quoted.double.js
  (#match? @string.quoted.single.js &quot;^\&quot;&quot;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The built-in <code>#match?</code> predicate allows us to reject possible matches when their contents don’t match a given regular expression. Here we’re telling the query engine to distinguish between <code>string</code> nodes whose text starts with <code>&#39;</code> and those whose text starts with <code>&quot;</code>.</p><p>We’ll be using the <code>#match?</code> predicate a lot. Unlike some of the other predicates we’ll see shortly, it’s <em>implemented</em> by the <code>web-tree-sitter</code> bindings, so Tree-sitter on its own is able to reject would-be captures that don’t pass it. By the time we see the list of captures, those that have failed a <code>#match?</code> test have already been filtered out.</p><p>In this case, though, there’s an even easier way to tell these strings apart:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>(string &quot;&#39;&quot;) @string.quoted.single.js
(string &quot;\&quot;&quot;) @string.quoted.double.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>As I mentioned, we can query for the presence of anonymous nodes. So the first line will match any <code>string</code> that contains at least one anonymous node child named <code>&#39;</code>, and the second line will match any <code>string</code> that contains at least one anonymous node child named <code>&quot;</code>.</p><p>Since the capture name is on the outside of the closing parenthesis, the capture name applies to the whole <code>string</code>.</p><p>We don’t have to be more specific; if that anonymous node exists <em>at all</em>, then it’s used as a delimiter on both sides of the string. And this query won’t match any potential false positives — like a double-quoted string that happens to have a <code>&#39;</code> somewhere inside of it — because the parser is too smart to get tripped up by that sort of thing.</p><p>This is one reason why it’s very easy to make a new Tree-sitter grammar <em>if</em> someone has done the work of writing a Tree-sitter parser for the given language. If we were writing a TextMate grammar, we’d have to care about a lot more of these edge cases, but a Tree-sitter parser will have handled them for us already.</p><h3 id="scope-tests" tabindex="-1"><a class="header-anchor" href="#scope-tests" aria-hidden="true">#</a> Scope tests</h3><p>We can already tell that the expressiveness of Tree-sitter’s query system will go a long way toward solving the first of the two problems we described above. Last time around, Atom developers had to <em>invent</em> a system for querying the tree, but we get a much more powerful system for free.</p><p>Tools like anonymous nodes and <code>#match?</code> predicates can get us quite far on their own, but they can’t solve all of our problems. We still have to scope the quotation marks themselves, and we may <em>think</em> we know how to do it:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>(string &quot;&#39;&quot; @punctuation.definition.string.begin.js)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>By putting the capture name immediately after the <code>&quot;&#39;&quot;</code>, we can target that anonymous node and give it a name. But remember that there are two delimiters! We want to give one scope name to the beginning delimiter and a <em>different</em> scope name to the ending delimiter. As we’ve written it, this rule would match <em>both</em> delimiters.</p><p>Surprisingly, we can’t solve this problem without some external help. Tree-sitter queries <a href="https://tree-sitter.github.io/tree-sitter/using-parsers#anchors" target="_blank" rel="noopener noreferrer">have a concept of “anchors”<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> that can enforce positioning of children — for instance, targeting only the first node child of a parent — but they can be used only for <em>named</em> nodes, not anonymous nodes. <strong>We need a way to introduce our own filtering criteria into Tree-sitter queries.</strong></p><p>Luckily, Tree-sitter gives us the tools to write our own predicates. Instead of trying to make it aware of our application-specific concerns, we can use the generic predicates <code>#is?</code> and <code>#is-not?</code> to mark certain query captures with data, then use that data to filter the results however we like.</p><p>The downside is that Tree-sitter can’t approve or reject captures with these predicates <em>on its own</em> like it can with <code>#match?</code>. Instead, we’ll have to “process” these captures after the fact and filter them manually. But it’s worth the effort because it lets us use whatever logic we want — even Pulsar-specific logic that means nothing to Tree-sitter.</p><p>Let’s illustrate.</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>(string
  &quot;&#39;&quot; @punctuation.definition.string.begin.js
  (#is? test.first &quot;true&quot;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The two parameters after <code>#is?</code> are arbitrary values of my own invention. Tree-sitter simply treats them as a key and value and applies some metadata to this capture. Any nodes that get captured by this query will contain some data under <code>assertedProperties</code>:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>capture<span class="token punctuation">.</span>assertedProperties<span class="token punctuation">[</span><span class="token string">&quot;test.first&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//-&gt; &quot;true&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In fact, I can omit that second argument; for boolean tests like this one, the presence of the property is all we need:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>(string
  &quot;&#39;&quot; @punctuation.definition.string.begin.js
  (#is? test.first))
(string
  &quot;&#39;&quot; @punctuation.definition.string.end.js
  (#is? test.last))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Using <code>(#is? test.first)</code> is like having Tree-sitter attach a Post-It note to a capture object with the text “remember to assert <code>test.first</code> later” written on it. Tree-sitter doesn’t know or care what that means, but it assumes we will.</p><p>And in this case, <code>test.first</code> corresponds to a function we’ve written that looks like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>parent<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> node<span class="token operator">?.</span>parent<span class="token operator">?.</span>firstChild<span class="token operator">?.</span>id <span class="token operator">===</span> node<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This function first ensures that root nodes (which have no parent) will always pass the test. Then it compares our node to its parent’s first child. If they’re equal, the test passes. If they’re not, then the captured node isn’t the first child of its parent, and we can ignore it.</p><p>The logic for our <code>last</code> function is identical, except that it compares our <code>node</code> to <code>node.parent.lastChild</code>.</p><p>Even better: the existence of <code>#is-not?</code> means that we get negation practically for free. Suppose I did this:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>(string
  &quot;&#39;&quot; @punctuation.definition.string.end.js
  (#is-not? test.first))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then the metadata would exist in a different place…</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;test.first&quot;</span> <span class="token keyword">in</span> capture<span class="token punctuation">.</span>refutedProperties<span class="token punctuation">;</span> <span class="token comment">//-&gt; true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>…and I’d know to ignore this capture unless my <code>first</code> function <em>fails</em> for this node.</p><p>So now we’ve got a way to filter capture names by any criteria we can think of. If we can test for it in JavaScript, it can be used as a predicate in Tree-sitter queries.</p><p>We call these custom predicates <strong>scope tests</strong>, and we’ve grouped them under a <code>test.</code> namespace for reasons that may make more sense later. Scope tests are a crucial tool for solving the first of those two problems we described earlier: they let us query for tree nodes in arbitrary ways that the legacy system simply couldn’t.</p><p>And because scope tests are just JavaScript, we’re able to use some oddball criteria for accepting or rejecting captures. Consider these examples:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>((program) @source.js.embedded
  (#is? test.injection))

(variable_declarator
  name: (identifier) @constant.other.foo
  (#match? @constant.other.foo &quot;^[_A-Z]+$&quot;)
  (#is? test.config &quot;language-foo.highlightAllCapsIdentifiersAsConstants&quot;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Both of these are scope tests that grammar query files can use. The first one applies a scope <em>only</em> if we’re in an injection layer — for instance, if this is JavaScript inside of a <code>SCRIPT</code> tag in an HTML file. The second one applies a scope only if the user has enabled a certain configuration option. Neither one has anything to do with Tree-sitter itself, but we can use them in Tree-sitter query files all the same.</p><p>The logic for applying tests and winnowing a list of raw captures exists in Pulsar in a class called <code>ScopeResolver</code>. That <code>first</code> function defined above is present at <a href="https://github.com/pulsar-edit/pulsar/blob/v1.109.0/src/scope-resolver.js#L583-L591" target="_blank" rel="noopener noreferrer"><code>ScopeResolver.TESTS.first</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, and there’s logic in <code>ScopeResolver</code> that matches up a <code>test.first</code> property to that function.</p><p>There are other scope tests that we’ve found to be quite useful — tests which any grammar author can use in their own query files:</p><ul><li>Whether a node has a certain kind of node as an ancestor</li><li>Whether a node has a certain kind of node as a descendant</li><li>Whether a node is the first/last non-whitespace content on a row</li><li>Whether a node has arbitrary metadata that has been attached with Tree-sitter’s <code>#set!</code> predicate</li></ul><p>But for our current goal — applying <code>punctuation</code> scopes to string delimiters — implementing <code>test.first</code> and <code>test.last</code> is enough to get us the outcome we want.</p><p>You may remember from earlier that the legacy Tree-sitter integration used a CSS-like syntax to describe nodes. It supported combinators like <code>&gt;</code> and even pseudoclasses like <code>:nth-child</code>, but not much else. Tree-sitter’s own query system can do much more than that — and it’s extensible, so we can add our own logic wherever we need it.</p><p>So we’ve done it! We now have the ability to scope a JavaScript string identically between our two different grammar systems. And we’ve moved past the legacy system’s first drawback: a brittle query system. Our first challenge has been vanquished.</p><h2 id="the-second-challenge-scoping-arbitrary-ranges" tabindex="-1"><a class="header-anchor" href="#the-second-challenge-scoping-arbitrary-ranges" aria-hidden="true">#</a> The second challenge: scoping arbitrary ranges</h2><p>To solve the second drawback — inability to scope the correct ranges — let’s create another challenge.</p><p>TextMate grammars will scope comments differently based on whether they’re line comments or block comments. There’s also a convention to annotate <code>comment.line</code> scopes with their delimiter type:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// this is a comment</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>A typical TextMate grammar for JavaScript would scope this comment as <code>comment.line.double-slash.js</code>, and would further scope the <code>//</code> as <code>punctuation.definition.comment.js</code>.</p><p><img src="/assets/tree-sitter-comment-scopes-diagram.88665730.png" alt="comment scopes"></p><p>Can we do that in a Tree-sitter grammar with the tools we’ve already got? Let’s inspect what our example comment looks like in a Tree-sitter tree:</p><p><img src="/assets/tree-sitter-tools-comment-tree.f78df2f6.png" alt="comment tree"></p><p>Hmm. No anonymous nodes or anything. Just one node called <code>comment</code>.</p><p>It’s a strong Tree-sitter convention that various sorts of code comments are all represented by nodes called <code>comment</code>. So this query would do the right thing in our example…</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>(comment) @comment.line.double-slash.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>…but would be incorrect in other scenarios because it would match block comments as well as line comments.</p><p>But we can use <code>#match?</code> to distinguish between the two kinds of comments:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>((comment) @comment.line.double-slash.js
  (#match? @comment.line.double-slash.js &quot;^\/\/&quot;))

((comment) @comment.block.js
  (#match? @comment.block.js &quot;^\/*&quot;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the latter case, we don’t have to test for the presence of <code>*/</code> at the end. If the contents of the comment begin with <code>/*</code>, that’s all the information we need; we know it <em>must</em> end with <code>*/</code>, or else the parser wouldn’t have classified it as a comment.</p><p>But what about our <code>punctuation.definition.comment.js</code> scope? Sadly, <code>tree-sitter-javascript</code> (and most other parsers) don’t make it easy to target the comment delimiters themselves. Comment delimiters, unlike string delimiters, usually aren’t available as anonymous nodes.</p><p>Hence the legacy Tree-sitter system has never been able to annotate that <code>//</code> with the <code>punctuation</code> scope it needed. We’ll need to solve this ourselves.</p><h3 id="scope-adjustments" tabindex="-1"><a class="header-anchor" href="#scope-adjustments" aria-hidden="true">#</a> Scope adjustments</h3><p>In this case, it’d be <em>more convenient</em> if there were a node for the <code>//</code> we want to scope. But we control the internals of the editor, and we can tell it to apply scope names to whatever buffer ranges we want. When the tree doesn’t do all of our work for us, it just means we have to try a bit harder.</p><p>In this case, the <code>comment</code> node tells us where the comment <em>starts</em> in the buffer. And once it passes the <code>#match?</code> predicate, we <em>know</em> that it starts with <code>//</code>, so it <em>must</em> end two characters later. Not the hardest problem to solve!</p><p>The trickiest part will be figuring out <em>how to describe</em> these buffer positions in a query.</p><h4 id="adjusting-by-pattern" tabindex="-1"><a class="header-anchor" href="#adjusting-by-pattern" aria-hidden="true">#</a> Adjusting by pattern</h4><p>What if we did this?</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>((comment) @comment.line.double-slash.js
  (#match? @comment.line.double-slash.js &quot;^//&quot;))

((comment) @punctuation.definition.comment.js
  (#match? @punctuation.definition.comment.js &quot;^//&quot;)
  (#set! adjust.endAfterFirstMatchOf &quot;^//&quot;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here we’re capturing the same thing <em>twice</em> under different names. In the second case, we’re using <code>#set!</code> — a predicate very similar to <code>#is?</code> and <code>#is-not?</code> — to attach a qualifier: instead of stopping at the end of the line comment, stop right after the <code>//</code> near the beginning.</p><p>Just like <code>#is?</code> predicates are represented on captures under <code>assertedProperties</code> and <code>#is-not?</code> predicates are represented under <code>refutedProperties</code>, <code>#set!</code> predicates are represented in their own bucket simply called <code>properties</code>.</p><p>Note the semantic difference between a predicate that ends in <code>!</code> and one that ends in <code>?</code>. In this case we’re not setting up a test for the capture to pass or fail; we’re attaching a side effect to the capture. Imagine a Post-It note attached to the capture that says “remember to adjust the range for this capture to end at X.”</p><p>I mentioned earlier that all nodes remember their corresponding buffer range — starting at <em>row W and column X</em>, ending at <em>row Y and column Z</em>. By default, this is the range against which a scope is applied. But in this case, the <code>adjust.endAfterFirstMatchOf</code> predicate reminds us to execute a regular expression match on the node’s contents and move the ending position to <em>the end of that match</em>, instead of the node’s natural ending point.</p><p>So in the absence of any node boundary at the position we want, we’ve found a rather simple alternative way to express that position. We still have to write <a href="https://github.com/pulsar-edit/pulsar/blob/v1.109.0/src/scope-resolver.js#L883-L897" target="_blank" rel="noopener noreferrer">our own code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to make it happen, but that won’t be a problem. Since we already have to loop through our captures to apply scope tests, we might as well use that opportunity to tweak the range of a capture if we need to.</p><p>And how would we handle the delimiters of a block comment?</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>((comment) @comment.block.js
	(#match? @comment.block.js &quot;^/\\*&quot;))

((comment) @punctuation.definition.comment.begin.js
  (#match? @punctuation.definition.comment.begin.js &quot;^/\\*&quot;)
  (#set! adjust.endAfterFirstMatchOf &quot;^/\\*&quot;))

((comment) @punctuation.definition.comment.end.js
  (#match? @punctuation.definition.comment.end.js &quot;\\*/$&quot;)
  (#set! adjust.startBeforeFirstMatchOf &quot;\\*/$&quot;))

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can scope the opening delimiter the same way. To scope the ending delimiter, we move the <em>head</em> of the range to the position at the <em>beginning</em> of a regex match. (And for situations where you want to move both the head and the tail at once, there’s <code>adjust.startAndEndAroundFirstMatchOf</code>).</p><h4 id="adjusting-by-node-position-descriptor" tabindex="-1"><a class="header-anchor" href="#adjusting-by-node-position-descriptor" aria-hidden="true">#</a> Adjusting by node position descriptor</h4><p>Let’s look at another example.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">SomeComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>SomeOtherComponent <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Let’s say we want to scope the <code>/&gt;</code> at the end of the self-closing tag. Tree-sitter represents that as two separate anonymous nodes — <code>/</code> and <code>&gt;</code>.</p><p>So we’ve got a <em>different</em> problem here: there’s no <em>single</em> node that includes both boundaries of the range we want to scope. How can we make the scope span two adjacent nodes?</p><p>We could probably use a pattern-based solution here like we did above. But we could also leverage a useful feature of how nodes are represented in the tree.</p><p>You might be familiar with how <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node" target="_blank" rel="noopener noreferrer">DOM nodes in the browser<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> are traversible via properties like <code>parentNode</code>, <code>nextSibling</code>, and so on. If you’ve got a reference to a particular DOM node, you can use those properties to jump from that node to any other node in the tree, as long as you you know how the two nodes are related.</p><p>A similar system exists for Tree-sitter nodes, and it gives us a simple way to describe relationships between nodes:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>((jsx_self_closing_element
  ; The &quot;/&gt;&quot; in `&lt;Foo /&gt;`, extended to cover both anonymous nodes at once.
  &quot;/&quot;) @punctuation.definition.tag.end.js
  (#set! adjust.startAt lastChild.previousSibling.startPosition)
  (#set! adjust.endAt lastChild.endPosition))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here we’re capturing the entire self-closing element, then moving the ends of the range to the specific boundaries that we need: starting at the beginning of second-to-last node child, and ending at the end of the last node child. The <code>/</code> and <code>&gt;</code> will always be the last two children of the node we captured, so this is a simple and repeatable way to describe the boundaries we want.</p><p>This syntax for describing a position relative to a given node is something we call a <em>node position descriptor</em>. If you’ve ever used a function like <a href="https://docs-lodash.com/v4/get/" target="_blank" rel="noopener noreferrer">Lodash’s <code>_.get</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, you might feel at home with this syntax — it resolves a chain of property lookups all at once, and fails gracefully if any of them aren’t present. It’ll come in handy later for other purposes.</p><p>So in order to pass our “JavaScript line comment” challenge, we’ve had to invent another feature called <strong>scope adjustments</strong>. With the infrastructure we’ve already got, scope adjustments are an easy thing to add: a scope adjustment is just a function that accepts a capture object and returns a range. We process them in the post-capture phase immediately before we apply scope tests.</p><p>Scope adjustments are our answer to the legacy system’s second limitation. They allow us to embrace the syntax tree when it works in our favor, but still break free of it whenever we need to.</p><h2 id="what-does-this-get-us" tabindex="-1"><a class="header-anchor" href="#what-does-this-get-us" aria-hidden="true">#</a> What does this get us?</h2><p>Some of you, having gotten this far, might wonder to yourselves: <em>if it takes this much effort just to get feature parity with a TextMate grammar, why not just stick with TextMate grammars?</em></p><p>One answer is simple: despite how complex this may seem, and how many implementation details I’ve hidden from you, the effort it’s taken to integrate Tree-sitter grammars into Pulsar is much, much less than the effort it originally took to integrate TextMate grammars into Atom.</p><p>But the message here can’t just be “we implemented a cool new thing that you won’t notice at all!” The whole point is that this is <em>better than</em> — not just <em>equivalent to</em> — what we had before, and not just for the few of us who write grammars.</p><p>So let me give you an example of something that was very hard with a TextMate grammar, but is now quite easy.</p><p>When a scope name might be useful for semantic reasons, but not for syntax highlighting reasons, TextMate grammars add scope names that use the <code>meta</code> namespace. You might see some <code>meta</code> scope names when you run the “Log Cursor Scope” command, but most of them don’t have an effect on how your code looks. Yet that information is visible to snippets, settings, and commands, and it can be very useful.</p><p>In the <code>language-javascript</code> package, Pulsar defines a <code>fun</code> snippet that expands as follows, with the string <code>functionName</code> highlighted:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">functionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>That’s great, but there’s more than one syntax for defining functions. Imagine if you could use <code>fun</code> inside of a class body and have it expand to the correct syntax for defining an instance method:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
	<span class="token function">functionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Or inside of an object literal — much like the class body syntax, but with a trailing comma so as to prevent syntax errors:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">functionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>TextMate grammars weren’t built with this sort of thing in mind.</strong> With much effort, you could probably pull it off, but only by making the grammar so complex that it might as well be a parser. But Tree-sitter is <em>already</em> a parser. It understands your code well enough to make these things <em>easy</em>.</p><p>With our rich syntax tree, we can now apply <code>meta</code> scope names rather liberally, marking sections of the buffer with useful metadata that can be used by commands and snippets. We can scope the inside of a class body and the inside of an object literal:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>; The interior of a class body.
((class_body) @meta.block.class.js
  ; Start after `{`…
  (#set! adjust.startAt firstChild.endPosition)
  ; …and end before `}`.
  (#set! adjust.endAt lastChild.startPosition))

; The inside of an object literal.
((object) @meta.object.js
  ; Start after `{`…
  (#set! adjust.startAt firstChild.endPosition)
  ; …and end before `}`.
  (#set! adjust.endAt lastChild.startPosition))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>By defining these two scope names, we’ve exposed these concepts to all the systems that consume scope names, including snippets.</p><p>The <code>language-javascript</code> package already defines <code>fun</code> one way, but we can redefine it for more specific scopes:</p><div class="language-coffeescript ext-coffeescript line-numbers-mode"><pre class="language-coffeescript"><code><span class="token string-property property">&#39;.source.js .meta.block.class.js&#39;</span><span class="token operator">:</span>
  <span class="token string-property property">&#39;Function&#39;</span><span class="token operator">:</span>
    <span class="token string-property property">&#39;prefix&#39;</span><span class="token operator">:</span> <span class="token string">&#39;fun&#39;</span>
    <span class="token string-property property">&#39;body&#39;</span><span class="token operator">:</span> <span class="token string">&#39;${1:functionName}($2) {\n\t$0\n}&#39;</span>

<span class="token string-property property">&#39;.source.js .meta.object.js&#39;</span><span class="token operator">:</span>
  <span class="token string-property property">&#39;Function&#39;</span><span class="token operator">:</span>
    <span class="token string-property property">&#39;prefix&#39;</span><span class="token operator">:</span> <span class="token string">&#39;fun&#39;</span>
    <span class="token string-property property">&#39;body&#39;</span><span class="token operator">:</span> <span class="token string">&#39;${1:functionName}($2) {\n\t$0\n},&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now we’ve made the <code>fun</code> snippet much more useful. When we type <code>fun</code> and press <kbd>Tab</kbd>, the <code>snippets</code> package will pick the version that matches the context of the cursor most closely.</p><video style="max-width:100%;" autoplay controls muted><source src="/assets/tree-sitter-snippet-context-example.f7c0921c.webm" type="video/webm"><source src="/assets/tree-sitter-snippet-context-example.8124fdcd.mp4" type="video/mp4"><p>Your browser doesn’t support HTML video. <a href="@source/blog/assets/tree-sitter-snippet-context-example.mp4">Download this video</a> instead.</p></video><p>This will work identically whether you use tab triggers or choose your snippets from an autocomplete menu.</p><p>This change isn’t just theoretical; it’s been implemented in the <code>language-javascript</code> grammar package, and it shipped with Pulsar 1.109.</p><h2 id="next-time" tabindex="-1"><a class="header-anchor" href="#next-time" aria-hidden="true">#</a> Next time</h2><p>Syntax highlighting isn’t the only way that Tree-sitter’s query system can make our lives easier. In the next installment we’ll tackle two tasks that the legacy Tree-sitter integration never addressed: indentation and code folding.</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/pulsar-edit/pulsar-edit.github.io/edit/main/docs/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: github@andrewdupont.net">Andrew Dupont</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><!--<div><object type="image/svg+xml" data="/logo-name-footer.svg" ></object></div>TODO: Fix - I have simply run out of talent to make this work correctly with external CSS or modifying the internal values. At I can get this to do what I want when the SVG is inline-->

    <!--The below inline SVG is the same code (with unnecessary inkscape values removed) as is in .vuepress/public/logo-name-footer.svg but inline so I can actually manipulate it with the index.css file-->

    <div><svg
       width="150.91833mm"
       height="50.720619mm"
       viewBox="0 0 150.91833 50.720619"
       version="1.1"
       id="logo-footer"
       xmlns="http://www.w3.org/2000/svg"
       xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs1442">
      </defs>
      <g
         inkscape:label="Layer 1"
         inkscape:groupmode="layer"
         id="layer1"
         transform="translate(-43.20444,-65.412972)">
        <path
           class="st0 class1"
           d="m 68.57798,84.621722 c -3.38667,0 -6.13833,2.75167 -6.13833,6.13833 0,3.38667 2.75166,6.13833 6.13833,6.13833 3.38667,0 6.13833,-2.75166 6.13833,-6.13833 0,-3.38666 -2.75166,-6.13833 -6.13833,-6.13833 z"
           id="path42"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 61.03736,99.200262 c 0.21166,0.0794 0.42333,0.13229 0.635,0.13229 0.42333,0 0.8202,-0.15875 1.1377,-0.47625 0.635,-0.635 0.635,-1.66687 0,-2.30187 -0.3175,-0.3175 -0.74083,-0.47625 -1.16416,-0.47625 -0.42334,0 -0.84667,0.15875 -1.16417,0.47625 -0.47625,0.47625 -0.60854,1.19062 -0.34396,1.7727 l -3.28083,1.27 -13.6525,16.245418 0.29104,0.29104 16.24542,-13.6525 z"
           id="path44"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 58.55027,105.65609 c 1.42875,1.21709 2.88396,2.30188 4.41854,3.28084 0.55563,-0.21167 1.77271,-0.68792 2.30188,-1.00542 -1.87854,-1.08479 -3.38667,-2.19604 -5.10646,-3.65125 z"
           id="path46"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 77.38861,79.065472 -1.27,3.28083 c -0.21167,-0.0794 -0.42334,-0.13229 -0.60855,-0.13229 -0.42333,0 -0.8202,0.15875 -1.1377,0.47625 -0.635,0.635 -0.635,1.66688 0,2.30188 0.3175,0.3175 0.74083,0.47625 1.16416,0.47625 0.42334,0 0.84667,-0.15875 1.16417,-0.47625 0.47625,-0.47625 0.60854,-1.19063 0.34396,-1.77271 l 3.28083,-1.27 13.6525,-16.24542 -0.29104,-0.29104 z"
           id="path48"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 75.2984,79.912142 c -1.95792,-1.21709 -4.25979,-1.93146 -6.72042,-1.93146 -7.03792,0 -12.77937,5.74146 -12.77937,12.77937 0,2.46063 0.71437,4.7625 1.93145,6.72042 l 0.68792,-0.26459 c 0.10583,-0.68791 0.42333,-1.32291 0.92604,-1.85208 0.10584,-0.10583 0.21167,-0.18521 0.34396,-0.29104 -0.635,-1.29646 -1.00542,-2.77813 -1.00542,-4.31271 0,-5.45041 4.445,-9.89541 9.89542,-9.89541 1.56104,0 3.01625,0.37041 4.31271,1.00541 0.0794,-0.10583 0.15875,-0.23812 0.26458,-0.34396 0.50271,-0.5027 1.13771,-0.8202 1.85209,-0.92604 z"
           id="path50"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 68.57798,100.65547 c -1.56104,0 -3.01625,-0.37042 -4.31271,-1.005418 -0.0794,0.10583 -0.15875,0.23813 -0.26458,0.34396 -0.50271,0.502708 -1.13771,0.820208 -1.85208,0.926038 l -0.26459,0.68792 c 1.95792,1.21708 4.25979,1.93146 6.72042,1.93146 7.03792,0 12.77937,-5.741458 12.77937,-12.779378 0,-2.46062 -0.71437,-4.7625 -1.93145,-6.72041 l -0.68792,0.26458 c -0.10583,0.68792 -0.42333,1.32292 -0.92604,1.85208 -0.10584,0.10584 -0.21167,0.18521 -0.34396,0.29104 0.635,1.29646 1.00542,2.77813 1.00542,4.31271 -0.0265,5.47688 -4.47146,9.895418 -9.92188,9.895418 z"
           id="path52"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 47.49069,90.786512 c -2.64583,6.50875 -2.77813,12.911668 0.0265,17.383118 l 1.40229,-1.66687 c -1.905,-3.46604 -1.905,-8.149168 -0.23813,-13.096878 1.32292,2.56646 3.01625,5.08 5.02709,7.408338 l 1.34937,-1.587498 c -2.24896,-2.67229 -4.04812,-5.52979 -5.34458,-8.44021 1.69333,-3.81 4.31271,-7.64646 7.77875,-11.1125 3.38667,-3.38667 7.19667,-6.0325 11.08604,-7.77875 2.8575,1.27 5.74146,3.04271 8.46667,5.34458 l 1.5875,-1.34937 c -2.38125,-2.03729 -4.92125,-3.70417 -7.43479,-5.00063 0.84666,-0.29104 1.66687,-0.52916 2.48708,-0.71437 4.18042,-0.9525 7.83167,-0.60854 10.63625,0.92604 l 1.66687,-1.40229 c -3.30729,-2.11667 -7.75229,-2.67229 -12.75291,-1.53458 -1.56104,0.34395 -3.12209,0.84666 -4.68313,1.50812 -7.56708,-3.09562 -14.97541,-2.75167 -19.39396,1.66688 -3.41312,3.41312 -4.55083,8.67833 -3.175,14.7902 0.34396,1.56105 0.87313,3.12209 1.50813,4.65667 z m 3.09562,-17.99167 c 3.4925,-3.4925 9.23396,-3.9952 15.3723,-1.93145 -3.4925,1.79916 -6.90563,4.28625 -9.94834,7.35541 -3.09562,3.09563 -5.55625,6.50875 -7.32896,9.94834 -0.26458,-0.82021 -0.52916,-1.64042 -0.71437,-2.48709 -1.19063,-5.42396 -0.26458,-10.00125 2.61937,-12.88521 z"
           id="path54"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 82.12465,82.319842 c 2.27541,2.72521 4.07458,5.60917 5.34458,8.44021 l -0.0265,0.0794 c -1.74625,3.88937 -4.41854,7.69937 -7.72583,11.006658 -4.86833,4.86834 -10.60979,8.22854 -16.1925,9.49854 -4.18042,0.9525 -7.83167,0.60855 -10.63625,-0.92604 l -1.66688,1.40229 c 2.19605,1.4023 4.86834,2.11667 7.85813,2.11667 1.56104,0 3.20146,-0.18521 4.89479,-0.58208 5.95313,-1.34938 12.065,-4.89479 17.19792,-10.02771 3.01625,-3.01625 5.52979,-6.429378 7.35541,-9.948328 2.06375,6.13833 1.56105,11.879788 -1.93145,15.372288 -2.64584,2.64583 -6.7998,3.62479 -11.58875,2.8575 -0.89959,0.55562 -1.79917,1.05833 -2.72521,1.50812 2.03729,0.52917 3.99521,0.82021 5.82083,0.82021 4.02167,0 7.48771,-1.27 9.94833,-3.73062 6.40292,-6.40292 4.2598,-19.129378 -4.55083,-29.474588 z"
           id="path56"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 88.23652,75.043802 c 1.16417,2.14313 1.61396,4.81542 1.34938,7.80521 0.60854,0.9525 1.16416,1.93146 1.64041,2.88396 1.00542,-4.84188 0.4498,-9.12813 -1.61395,-12.3825 z"
           id="path58"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 113.02798,84.092552 h -11.00667 v 15.00188 h 2.56646 v -5.2123 h 0.18521 l 8.22854,-0.0264 c 0.79375,0 1.45521,-0.29105 2.01083,-0.84667 0.55563,-0.55563 0.84667,-1.21708 0.84667,-1.98437 v -4.10105 c 0,-0.76729 -0.29104,-1.4552 -0.84667,-1.98437 -0.52916,-0.55563 -1.21708,-0.84667 -1.98437,-0.84667 z m 0.26458,6.95854 c 0,0.15875 -0.10583,0.26459 -0.26458,0.26459 h -8.14917 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -4.10104 c 0,-0.15875 0.10583,-0.26458 0.26458,-0.26458 h 8.14917 c 0.15875,0 0.26458,0.10583 0.26458,0.26458 z"
           id="path60"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 129.06173,96.289842 c 0,0.18521 -0.13229,0.26459 -0.23813,0.26459 h -8.17562 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -12.19729 h -2.56646 v 12.19729 c 0,0.79375 0.26458,1.45521 0.82021,2.01084 0.55562,0.55562 1.21708,0.8202 2.01083,0.8202 h 8.17562 c 0.7673,0 1.45521,-0.29104 1.98438,-0.8202 0.55562,-0.55563 0.84667,-1.21709 0.84667,-2.01084 v -12.19729 h -2.59292 z"
           id="path62"
           style="stroke-width:0.264583" />
        <polygon
           class="st0 class1"
           points="-307.4,-4970.9 -307.4,-4980.7 -343.8,-4980.7 -343.8,-5027.8 -353.6,-5027.8 -353.6,-4970.9 "
           id="polygon64"
           transform="matrix(0.26458333,0,0,0.26458333,227.77777,1414.3382)" />
        <path
           class="st0 class1"
           d="m 158.6686,84.066092 h -8.17562 c -0.79375,0 -1.45521,0.29105 -2.01083,0.82021 -0.55563,0.55563 -0.82021,1.21709 -0.82021,2.01084 v 3.14854 c 0,0.79375 0.26458,1.4552 0.82021,2.01083 0.55562,0.55562 1.21708,0.82021 2.01083,0.82021 h 8.17562 c 0.10584,0 0.23813,0.0794 0.23813,0.26458 v 3.14854 c 0,0.18521 -0.13229,0.26459 -0.23813,0.26459 h -8.17562 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -1.05833 h -2.56646 v 1.05833 c 0,0.79375 0.26458,1.45521 0.82021,2.01084 0.55562,0.55562 1.21708,0.8202 2.01083,0.8202 h 8.17562 c 0.7673,0 1.45521,-0.29104 1.98438,-0.8202 0.55562,-0.55563 0.84667,-1.21709 0.84667,-2.01084 v -3.14854 c 0,-0.79375 -0.29105,-1.45521 -0.84667,-2.01083 -0.55563,-0.55563 -1.21708,-0.82021 -1.98438,-0.82021 h -8.17562 c -0.15875,0 -0.26458,-0.10583 -0.26458,-0.26458 v -3.14854 c 0,-0.15875 0.10583,-0.26459 0.26458,-0.26459 h 8.17562 c 0.10584,0 0.23813,0.0794 0.23813,0.26459 v 1.05833 h 2.59292 v -1.05833 c 0,-0.79375 -0.29105,-1.45521 -0.84667,-2.01084 -0.52917,-0.52916 -1.21708,-0.82021 -1.98438,-0.82021 z"
           id="path66"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 175.04631,84.066092 h -8.14916 c -0.79375,0 -1.45521,0.29105 -2.01084,0.82021 -0.55562,0.55563 -0.82021,1.21709 -0.82021,2.01084 v 12.19729 h 2.56646 v -5.13292 h 8.67834 v 5.13292 h 2.59291 v -12.19729 c 0,-0.79375 -0.29104,-1.45521 -0.84666,-2.01084 -0.55563,-0.52916 -1.24355,-0.82021 -2.01084,-0.82021 z m 0.26459,7.35542 h -8.67834 v -4.49792 c 0,-0.15875 0.10584,-0.26458 0.26459,-0.26458 h 8.14916 c 0.15875,0 0.26459,0.10583 0.26459,0.26458 z"
           id="path68"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 193.2761,93.035472 c 0.55563,-0.55563 0.84667,-1.21709 0.84667,-1.98438 v -4.10104 c 0,-0.76729 -0.29104,-1.45521 -0.84667,-1.98437 -0.55562,-0.55563 -1.24354,-0.84667 -2.01083,-0.84667 h -10.98021 v 15.00187 h 2.56646 v -5.23875 h 3.96875 l 0.0265,0.0529 4.36562,5.18583 h 2.88396 v -0.55562 l -3.91583,-4.65667 h 1.05833 c 0.82021,-0.0265 1.48167,-0.3175 2.03729,-0.87312 z m -10.16,-1.71979 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -4.10104 c 0,-0.15875 0.10583,-0.26458 0.26458,-0.26458 h 8.14917 c 0.15875,0 0.26458,0.10583 0.26458,0.26458 v 4.10104 c 0,0.15875 -0.10583,0.26459 -0.26458,0.26459 z"
           id="path70"
           style="stroke-width:0.264583" />
      </g>
    </svg></div>

    <div class="socialsBar">
      <a href=http://github.com/pulsar-edit>
        <i class="fa-brands fa-github"></i>
      </a>
      <a href=https://github.com/orgs/pulsar-edit/discussions>
        <i class="fa-solid fa-comments"></i>
      </a>
      <a href=https://discord.gg/7aEbB9dGRT>
        <i class="fa-brands fa-discord"></i>
      </a>
      <a href=https://www.reddit.com/r/pulsaredit/>
        <i class="fa-brands fa-reddit"></i>
      <a rel="me" href=https://fosstodon.org/@pulsaredit>
        <i class="fa-brands fa-mastodon"></i>
      </a>
      <a href=https://lemmy.ml/c/pulsaredit>
        <i class="fa-solid fa-users"></i>
      </a>
      <a href=https://opencollective.com/pulsar-edit>
        <i class="fa-solid fa-hand-holding-dollar"></i>
      </a>
    </div>

    <hr>

    <div class="linksBox">
      <div class="linksBoxLeft">
        <p class="linksBoxHeader"> Pulsar </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href="/download.html"> Downloads </a>
            </li>
            <li>
              <a href="/docs/"> Documentation </a>
            </li>
            <li>
              <a href=https://web.pulsar-edit.dev/> Package Repository </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="linksBoxMid">
        <p class="linksBoxHeader"> Team </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href="/about.html"> About Us </a>
            </li>
            <li>
              <a href="/blog/"> Blog </a>
            </li>
            <li>
              <a href=http://github.com/pulsar-edit> Org Repositories </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="linksBoxRight">
        <p class="linksBoxHeader"> Resources </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href=https://pulsar-edit.dev/docs/resources/privacy> Privacy Policy </a>
            </li>
            <li>
              <a href=https://pulsar-edit.dev/docs/resources/conduct> Code of Conduct </a>
            </li>
            <li>
              <a href=https://pulsar-edit.dev/community.html> Contact Us </a>
            </li>
          </ul>
        </div>
      </div>

    </div>



  <hr>

  <div class="copyrightBar">
    <span> Pulsar-Edit © 2022-2023 </span>
  </div></div><!----></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.e63a3e54.js" defer></script>
  </body>
</html>
